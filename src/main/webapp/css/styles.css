:root {
    /* --- Bảng màu quy ước (GIỮ NGUYÊN) --- */
    --color-primary: #0D6EFD;
    --color-secondary: #6C757D;
    --color-accent: #FF9900;
    --bg-body: #F8F9FA;      /* Màu xám nhạt (dùng cho tiêu đề bảng) */
    --bg-white: #FFFFFF;     /* Màu trắng (dùng cho nền trang) */
    --text-main: #212529;
    --text-light: #6C757D;
    --color-success: #198754;
    --color-error: #DC3545;
}

/* --- Thiết lập Layout --- */
html {
    background-color: var(--bg-white);
}

body {
    /* Ưu tiên nền trắng tuyệt đối, ghi đè nền xám từ DuyHung.css */
    background-color: var(--bg-white) !important;
    color: var(--text-main);
    font-family: Arial, Helvetica, sans-serif;
    font-size: 11pt;
    margin: 0;
    padding: 0;
    text-align: center;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* Container chính */
.container {
    max-width: 1600px;
    margin: 0 auto;  /* Căn giữa */
    background-color: var(--bg-white);
    padding: 20px 40px;
    /* Không ép container cao 100vh để tránh tạo scroll thừa và đẩy footer lên */
    min-height: 0 !important; /* ghi đè min-height:800px của DuyHung.css */
    /* Làm phẳng nền trắng 2 bên, bỏ bóng mờ */
    box-shadow: none !important; /* Ép bỏ bóng mờ từ DuyHung.css */
    text-align: left;
    flex: 1;
}

/* --- Typography --- */
h1, h2 {
    color: teal;
    margin-top: 20px;
    /* Bỏ kẻ xanh ngang dưới tiêu đề */
    border-bottom: none;
    padding-bottom: 10px;
    text-align: center;
}

/* --- Form & Labels --- */
form {
    display: inline-block;
    text-align: left;
    margin-top: 20px;
}

label {
    display: inline-block;
    width: 120px;
    text-align: right;
    margin-right: 10px;
    font-weight: bold;
    vertical-align: top;
    margin-bottom: 0.5em;
}

input[type="text"],
input[type="email"],
input[type="date"],
input[type="number"],
select,
textarea {
    width: 300px;
    padding: 4px;
    margin-bottom: 10px;
    margin-left: 0.5em;
    border: 1px solid var(--color-secondary);
}

br { clear: both; }

/* --- Table Styles --- */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 1em 0;
    background-color: var(--bg-white);
    border: 1px solid #000;
    box-shadow: none !important; /* Bỏ bóng mờ quanh bảng */
}

table th, table td {
    border: 1px solid #000;
}

table th {
    padding: 12px;
    text-align: center; /* Căn giữa tiêu đề bảng */
    /* Vẫn giữ màu xám cho tiêu đề bảng để dễ nhìn */
    background-color: var(--bg-body);
    font-weight: bold;
    font-size: 12pt;
}

table td {
    padding: 10px 12px;
    vertical-align: middle;
}

table tr:hover {
    background-color: #f5f5f5;
}

table a {
    color: var(--color-primary);
    text-decoration: underline;
    cursor: pointer;
}

table a:hover {
    color: var(--color-accent);
}

/* --- Buttons --- */
.buttons { text-align: center; margin-top: 20px; }

.btn {
    padding: 5px 20px;
    cursor: pointer;
    font-weight: bold;
    border: 2px solid black;
    background: white;
    border-radius: 8px;
    margin: 0 10px;
    transition: 0.2s;
    text-decoration: none;
    color: black;
    display: inline-block;
}

.btn:hover {
    background: #eee;
    border-color: var(--color-primary);
}

.btn-create {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 10px 18px;
    background-color: white;
    color: var(--color-success);
    border: 2px solid var(--color-success);
    border-radius: 6px;
    text-decoration: none;
    font-weight: bold;
    margin: 0 auto 15px;
    transition: 0.2s;
}

.btn-create:hover {
    background-color: var(--color-success);
    color: white;
}

/* --- Simple Modal --- */
.modal-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 999;
}

.modal-backdrop.show { display: flex; }

.modal-box {
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 8px;
    max-width: 420px;
    width: 90%;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    text-align: center;
}

.modal-box h3 { margin: 0 0 10px; font-size: 18px; }
.modal-box p { margin: 0 0 20px; }

.modal-actions {
    display: flex;
    justify-content: center;
    gap: 12px;
}

.modal-btn {
    min-width: 90px;
    padding: 8px 14px;
    border-radius: 6px;
    font-weight: 600;
    border: 1px solid transparent;
    cursor: pointer;
}

.modal-btn.confirm {
    background: var(--color-error);
    color: #fff;
    border-color: var(--color-error);
}

.modal-btn.cancel {
    background: #f1f3f5;
    color: #000;
    border-color: #ccc;
}

.modal-btn:hover { filter: brightness(0.97); }

/* --- Action Buttons --- */

.actions-bar {
    text-align: center;
    margin: 15px 0 10px;
}

.action-buttons {
    display: flex;
    justify-content: center;
    gap: 8px;
}

.btn-action {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 6px 12px;
    border-radius: 4px;
    font-weight: 600;
    text-decoration: none;
    border: 1px solid transparent;
    transition: 0.15s;
}

.btn-action.edit {
    background: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
}

.btn-action.edit:hover {
    background: #0b5ed7;
}

.btn-action.delete {
    background: white;
    color: var(--color-error);
    border-color: var(--color-error);
}

.btn-action.delete:hover {
    background: var(--color-error);
    color: white;
}

/* --- Form Card (Create/Update pages) --- */
.form-card {
    display: block;
    max-width: 720px;
    margin: 0 auto;
    padding: 24px 28px;
    border: 1px solid #cfe2ff;
    border-radius: 10px;
    background: linear-gradient(180deg, #eef6ff 0%, #ffffff 55%);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
}

.form-card::before {
    content: '';
    display: block;
    height: 4px;
    border-radius: 10px;
    background: linear-gradient(90deg, var(--color-primary), #4dabf7);
    margin: -24px -28px 18px -28px;
}

.form-row {
    display: grid;
    grid-template-columns: 160px 1fr;
    align-items: center;
    gap: 12px;
    margin: 14px 0;
    position: relative;
    overflow: visible;
}

.form-row label {
    width: auto;
    margin: 0;
    text-align: right;
}

.form-row input[type="text"],
.form-row input[type="email"],
.form-row input[type="number"],
.form-row input[type="date"],
.form-row select,
.form-row textarea {
    width: 100%;
    margin: 0;
    padding: 10px 12px;
    border-radius: 6px;
    border: 1px solid #cbd5e1;
    height: 44px;
    box-sizing: border-box;
    text-align: left;
    padding-left: 14px; /* căn chữ qua trái 1 chút cho dễ nhìn */
}

.form-row textarea {
    height: auto;
    min-height: 90px;
}

.form-row input:focus,
.form-row select:focus,
.form-row textarea:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.15);
}

/* --- Form Validation Styles --- */
/* Input/Select/Textarea không hợp lệ - viền đỏ */
.form-row input.invalid,
.form-row select.invalid,
.form-row textarea.invalid,
.form-row .ts-wrapper.invalid .ts-control {
    border-color: #dc3545 !important;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.15) !important;
}

/* Error message container */
.form-row .error-message {
    grid-column: 2;
    color: #dc3545;
    font-size: 13px;
    margin-top: 4px;
    display: flex;
    align-items: flex-start;
    gap: 6px;
    animation: slideDown 0.3s ease-out;
}

.form-row .error-message::before {
    content: '⚠';
    font-size: 14px;
    flex-shrink: 0;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Valid input - viền xanh */
.form-row input.valid,
.form-row select.valid,
.form-row textarea.valid {
    border-color: #198754 !important;
}

/* Remove default browser validation bubble */
.form-card input:invalid,
.form-card select:invalid,
.form-card textarea:invalid {
    box-shadow: none;
}

/* Prevent default HTML5 validation messages */
.form-card {
    position: relative;
}

/* Error banner for server-side validation */
.error-banner {
    background-color: #f8d7da;
    border: 1px solid #f5c2c7;
    border-radius: 8px;
    color: #842029;
    padding: 12px 16px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    animation: slideDown 0.3s ease-out;
}

.error-banner::before {
    content: '⚠';
    font-size: 18px;
    flex-shrink: 0;
}

/* Price input with $ prefix */
.input-prefix {
    display: flex;
    align-items: center;
    width: 100%;
}

.prefix {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 44px;
    padding: 0 12px;
    border: 1px solid #cbd5e1;
    border-right: 0;
    border-radius: 6px 0 0 6px;
    background: #f8fafc;
    color: #111;
    font-weight: 700;
    box-sizing: border-box;
}

.input-prefix input {
    border-radius: 0 6px 6px 0;
    margin-left: 0;
}

/* Make buttons align center inside card */
.form-card .buttons {
    margin-top: 22px;
    display: flex;
    justify-content: center;
    gap: 14px;
}

/* Buttons in form: make them consistent + colored */
.form-card .btn {
    border: 2px solid transparent;
    padding: 10px 26px;
    border-radius: 10px;
    font-size: 12pt;
}

.form-card .btn:hover {
    background: #f8fafc;
}

.form-card button.btn {
    background: var(--color-success);
    color: #fff;
}

.form-card button.btn:hover {
    background: #157347;
}

.form-card a.btn {
    background: #fff;
    color: var(--text-main);
    border-color: #111;
}

.form-card a.btn:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
}

/* --- Tom Select styling (BẢN FINAL: Fix lỗi đè chữ + Nút Clear đỏ) --- */
.form-card .ts-wrapper {
    width: 100%;
    position: relative;
    z-index: 1;
}

/* Khung nhập liệu (Input box) */
.form-card .ts-control {
    min-height: 44px !important;
    /* Padding-right 40px để chừa chỗ cho nút Clear đỏ bên phải */
    padding: 6px 40px 6px 10px !important;
    border: 1px solid #cbd5e1 !important;
    border-radius: 8px !important;
    background: #fff !important;
    box-shadow: none !important;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    position: relative !important;
}

.form-card .ts-wrapper.focus .ts-control {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.15) !important;
}

/* --- 1. CHIP (TAG) TÁC GIẢ --- */
.form-card .ts-wrapper.multi .ts-control > div.item {
    background: #0d6efd !important;
    color: #fff !important;
    border: none !important;
    border-radius: 4px !important;
    /* Padding-right 30px để nút xóa nhỏ (trong tag) không đè chữ */
    padding: 6px 30px 6px 12px !important;
    margin: 3px 5px 3px 0 !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    position: relative !important;
    display: inline-flex !important;
    align-items: center !important;
    line-height: 1.4 !important;
}

/* Nút xóa nhỏ bên trong từng Tag */
.form-card .ts-wrapper.multi .ts-control > div.item .remove {
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 26px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 16px !important;
    color: rgba(255,255,255,0.8) !important;
    text-decoration: none !important;
    border-left: 1px solid rgba(255,255,255,0.2) !important;
    padding: 0 !important;
    cursor: pointer !important;
}

.form-card .ts-wrapper.multi .ts-control > div.item .remove:hover {
    background: rgba(0,0,0,0.1) !important;
    color: #fff !important;
}

/* --- 2. NÚT XÓA TẤT CẢ (CLEAR ALL - MÀU ĐỎ) --- */
/* Ghi đè class của thư viện để hiện nút này */
.form-card .ts-wrapper .clear-button {
    position: absolute !important;
    right: 10px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;

    width: 24px !important;
    height: 24px !important;

    /* Màu đỏ */
    color: #dc3545 !important;

    background: transparent !important;
    border: none !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;

    font-size: 20px !important;
    font-weight: bold !important;
    cursor: pointer !important;
    z-index: 100 !important;
    opacity: 1 !important; /* Luôn hiển thị khi có dữ liệu */
}

.form-card .ts-wrapper .clear-button:hover {
    background: rgba(220, 53, 69, 0.1) !important;
    color: #a71d2a !important; /* Đỏ đậm hơn khi hover */

    /* QUAN TRỌNG: Đổi từ 50% (tròn) thành 4px (vuông bo góc) */
    border-radius: 4px !important;
}

/* Ẩn nút clear thừa (nếu có) */
.form-card .ts-wrapper .ts-clear-all {
    display: none !important;
}

/* Input text */
.form-card .ts-control input {
    margin: 0 !important;
    padding: 0 5px !important;
    background: transparent !important;
    border: none !important;
    min-width: 100px;
    box-shadow: none !important;
}
.form-card .ts-control input:focus {
    outline: none !important;
}

/* Dropdown Menu */
.ts-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    z-index: 10000 !important;
    background: #fff;
    border: 1px solid #cbd5e1;
    border-radius: 8px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    margin-top: 5px;
    overflow: hidden;
}

.ts-dropdown .ts-dropdown-content {
    max-height: 250px;
    overflow-y: auto;
    padding: 5px 0;
}

.ts-dropdown .option {
    padding: 8px 15px;
    cursor: pointer;
    font-size: 14px;
}

.ts-dropdown .option.active,
.ts-dropdown .option:hover {
    background-color: #f1f3f5;
    color: #0d6efd;
}

.ts-dropdown .option.selected {
    background-color: #e7f1ff;
    color: #0d6efd;
    font-weight: bold;
}


/* Remove container gradient so page looks consistent */
.container {
    background: var(--bg-white);
}

/* Footer stick to bottom (body is flex column already) */
.site-footer {
    margin-top: auto;
    padding: 18px 0;
}
